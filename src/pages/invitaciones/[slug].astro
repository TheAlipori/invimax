---
import "../../styles/global.css"; // Importa tu CSS global aquí

// [slug].astro
import { getEntryBySlug, getCollection } from "astro:content";
import HeroSection from "../../components/Hero.astro";
import SectionOne from "../../components/SectionOne.astro";
import SectionTwo from "../../components/SectionTwo.astro";
import Layout from "../../layouts/Layout.astro";
import Itinerario from "../../components/Itinerario.astro";
import Card from "../../components/Card.astro";
import GoogleMaps from "../../components/GoogleMaps.astro";
import Whatsapp from "../../components/Whatsapp.astro";
import CodigodeVestimenta from "../../components/CodigodeVestimenta.astro";
import WishList from "../../components/WishList.astro";
// Esto es OBLIGATORIO para rutas dinámicas
export async function getStaticPaths() {
  const entries = await getCollection("invitaciones");
  return entries.map((entry) => ({
    params: { slug: entry.slug },
  }));
}

const { slug } = Astro.params;
const entry = await getEntryBySlug("invitaciones", slug);

if (!entry) {
  return new Response(null, {
    status: 404,
    statusText: "Invitación no encontrada",
  });
}

const { title, fecha, lugar, mensaje, pareja, fecha_evento } = entry.data;
const { Content } = await entry.render();
const { itinerario } = entry.data;
---

<Layout>
  <HeroSection title={title} pareja={pareja} mensaje={mensaje} />
  <SectionOne fecha_evento={fecha_evento} />
  <Itinerario itinerario={itinerario} />
  <SectionTwo />
  <CodigodeVestimenta />
  <WishList />
  <Whatsapp />

  <GoogleMaps lugar={lugar} />
</Layout>
